<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>jq轮播图滚动</title>
		<script src="js/jquery-2.2.3.min.js"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				
			}
			#pic1,#pic2,#pic3,#pic4{
				width: 960px;
				height: 350px;
				position: absolute;
				background-size: 100%;
				left: 960px;
				display: block;
				opacity: 1;
			}
			#pic1{
				background: url(img/1.jpg);
				background-size: 100%;
				left: 0px;
				
			}
			#pic2{
				background: url(img/2.jpg);
				background-size: 100%;
			}
			#pic3{
				background: url(img/3.jpg);
				background-size: 100%;
			}
			#pic4{
				background: url(img/4.jpg);
				background-size: 100%;
			}
			.outer7{
				width: 960px;
				height: 350px;
				margin: auto;
				position: relative;
				overflow: hidden;
			}
			.lunbo7bot div{
				width: 240px;
				height: 160px;
				float: left;
				opacity: 1;
			}
			.lunbo7bot .bot1{
				background: url(img/1.jpg);
				background-size: 100%;
				opacity: 0.5;
			}
			.bot2{
				background: url(img/2.jpg);
				background-size: 100%;
			}
			.bot3{
				background: url(img/3.jpg);
				background-size: 100%;
			}
			.bot4{
				background: url(img/4.jpg);
				background-size: 100%;
			}
			.lunbo7{
				width: 960px;
				height: 510px;
				margin: auto;
				position: relative;
				overflow: hidden;
			}
			.lunbo7bot{
				width: 960px;
				height: 160px;
			}
			.prev,.next{
				width: 20px;
				height: 20px;
				background:#555;
				position: absolute;
				top: 200px;
			}
			.prev{
				
				left: 0px;
			}
			.next{
				right: 0px;
			}
		</style>
	</head>
	<body>
		<div class="lunbo7">
			<div class="outer7">
				<div id="pic1"></div>
				<div id="pic2"></div>
				<div id="pic3"></div>
				<div id="pic4"></div>
			</div>
			<div class="prev"></div>
			<div class="next"></div>
			<div class="lunbo7bot">
					<div class="bot1"></div>
					<div class="bot2"></div>
					<div class="bot3"></div>
					<div class="bot4"></div>
			</div>
		</div>	
		<script type="text/javascript">
		var i=-1;
		function aa(){
//				clearInterval(time)
				i++;
				if(i>=$(".outer7 div").size()-1){
					i=-1;
				}
				console.log(i)
				$(".lunbo7bot div").eq(i+1).animate({opacity:"0.5"})
				$(".lunbo7bot div").eq(i).animate({opacity:"1"})
				$(".outer7 div").eq(i).animate({left:"-960px"},200).animate({opacity:"0"},1).animate({left:"960px"}).delay(100).animate({opacity:"1"});
				$(".outer7 div").eq(i+1).animate({left:"0px"},200).delay(1000);
//				return i;
		}
		var time=setInterval(aa,2500)
		$(".next").click(function(){
			clearInterval(time)
			$(".outer7 div").stop(false,true)
			$(".lunbo7bot div").stop(false,true)
			aa()
			time=setInterval(aa,2500)
		})
		$(".prev").click(function(){
			clearInterval(time)
			$(".outer7 div").stop(false,true)
			$(".lunbo7bot div").stop(false,true)
			i--;
			if(i<-1){
				i=2
			}
			console.log(i)
			$(".lunbo7bot div").eq(i-1).animate({opacity:"0.5"})
			$(".lunbo7bot div").eq(i).animate({opacity:"1"})
			$(".outer7 div").eq(i).animate({left:"960px"},200).animate({opacity:"0"},1).animate({left:"-960px"}).delay(100).animate({opacity:"1"});
			$(".outer7 div").eq(i-1).animate({left:"0px"},200).delay(1000);
//			aa()
			time=setInterval(aa,2500)
		})
		</script>
	</body>
</html>
